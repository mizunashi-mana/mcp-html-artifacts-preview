# 開発ワークフロー

## 基本原則

- ユーザーとの対話的な進行: 各ステップでユーザーの確認を取る
- 早期フィードバック: 動く状態を早く作り、確認を得る
- 小さな積み重ね: 小さな単位で実装し、動作確認を繰り返す

## ブランチ戦略（GitHub Flow）

本プロジェクトでは GitHub Flow を採用する。

### ブランチの種類

- **デフォルトブランチ**（`main`）: 常にデプロイ可能な状態を維持する。直接コミットしない
- **フィーチャーブランチ**: タスクごとにデフォルトブランチから作成する

### ブランチ命名規則

- `feat/{name}`: 新機能
- `fix/{name}`: バグ修正
- `refactor/{name}`: リファクタリング
- `docs/{name}`: ドキュメント
- `chore/{name}`: その他

### フロー

```
main ─── feature ブランチ作成 ─── 実装・コミット ─── PR 作成 ─── レビュー ─── マージ ─── main に戻る
```

1. **ブランチ作成**: main から `git checkout -b {ブランチ名}` で作成
2. **実装・コミット**: 小さな単位でコミットを積み重ねる
3. **PR 作成**: 実装完了後、`/autodev-create-pr` で PR を作成
4. **レビュー・マージ**: レビューを経て main にマージ
5. **ブランチ切り替え**: マージ後、`/autodev-switch-to-default` で main に戻る

### 注意事項

- main への直接プッシュは避ける
- マージ方式はマージコミット（`merge commit`）を使用する
- マージ済みのフィーチャーブランチはリモートで自動削除されることを前提とする

## タスク実行フロー

### 着手前

1. タスクの README を作成（目的、方針、完了条件、作業ログ）
2. 関連する steering ドキュメントを確認
3. 方針をユーザーに確認
4. フィーチャーブランチを作成

### 実装中

- ステップごとに動作確認
- 品質チェックを実施:
  - `npm run lint` でリントエラーがないことを確認
  - `npm run test` でテストが通ることを確認
  - `npm run build` でビルドが成功することを確認
- 意味のある単位でコミット（コミットメッセージは変更内容を簡潔に記述）
- 必要に応じてユーザーにフィードバックを求める

### 完了時

1. 完了条件を満たしているか確認
2. 作業ログを更新
3. PR を作成（`/autodev-create-pr`）
4. ユーザーに完了報告
